(function(){"use strict";var t={8449:function(t,e,s){var o=s(144),i=s(998),a=s(3059),n=function(){var t=this,e=t._self._c;return e(i.Z,{attrs:{id:"app"}},[e("BzHeader"),e(a.Z,{staticClass:"lighten-4 pt-16"},[e("router-view")],1),e("BzFooter")],1)},l=[],r=s(629),c=s(266),d=s(8271),u=function(){var t=this,e=t._self._c;return e(d.Z,{attrs:{dark:"",padless:""}},[e(c.Z,{staticClass:"text-center",attrs:{cols:"12"}},[e("span",[t._v("Copyright©2024 豚豚壁纸")]),t.isShow?e("span",[e("a",{attrs:{href:"http://beian.miit.gov.cn","one-link-mark":"yes",target:"_blank"}},[t._v("沪ICP备18011999号")])]):t._e(),t.isShow?e("span",[e("a",{attrs:{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010602005070",target:"_blank","one-link-mark":"yes"}},[e("img",{staticStyle:{width:"12px","padding-bottom":"3px","vertical-align":"middle"},attrs:{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAACglBMVEUAAAD89dn+/ODz6KrcrGreqFfYrn3x16769M3oxnyaaVzhs2ifaFXbrGLkvFnpyF7v2X/kwm3cp1nhsGfqw3rntVzjrFPt3oDjvGnbnFGti3q0lH7ktoLryXn9v1T4znr/74bnvGz034v+2I/ktoDz6ZLkwY/Dfz7buoftzYbq2IPr0pjs3bLv6KPRrnbKhFv/+dDZr4Lx38f/+cH/95f42oL7/97s2Y3++uzTk3AAAXgCAWbmulrdmUXWHRcBAm7uzWbpwmLsxl3ktV3qvFr/0ljmwFHksE7fo0raSijXPSDWAgjPAAJrdoeUj4EAAICRiXb143Pyy27w1Gz+z2XtymH/217qyVy7jluTeFrrwFfislP+xVJRNlHpuFDpsErVkEbysETajkPpgj7ThT3ilDvXdTg5FDjdhTXtcTDWZTC7TCbuXiPTOCLJPR/TLhzJJxP9LA+0Bw/QFg2Ej5kcPpdyhZSptJEACJFpfo4AG44XMInFvYfTvIejmYRyeoJzdoK9un7FrnwAEHp8enny2HjWwHjKtnhcX3jYzHfu2HWsonPNwnH70m9WTm8AAW//723pym3dtmm0o2ZeWWb/4mPtwmJuYmL/vmB5ZGAMAF2njVn4xFjYnli0mVjiqVfyyVbmtlbXkVPlvFLNrFKjfVLuvlBgHlDsuU9ODk7/2E02Gk3jqkqEaUr/tUngjkf7n0b6xERCJETdn0K1gD/ooD3Ulj3TZT3WjjzOeDqBWDr3pDlMADnbbTf2gjbkbzaTYDZpAjbplzTEazPXXzOeXzDMPi38jizJWSrVSCrzfCjVdCjTQCbFUiTlYCPiRh7SIRrRDBG/ABHBDAvEGArJAAJrcyAdAAAAOnRSTlMAGghC4MasaVv7+/n39fTw7Ozr5+bk5OHg0tHLx8TDwb68urKxq5+cmJWTjIN8b11MSEFBNTApJyEUZZQtrgAAAW1JREFUGNNigAJGdmkpdkYGZGDMxnN019qlXGwGCDGmiPQDh89lTupOj2CCa5WPjTzlnevps6E8Vhkqasa9esrxC3b5nsWXZ/huEjEHC5oE+M/O8c63u5h7NafRPsAUrFnOz2rLeW87Ly87H6/O/hYFC6Cg3u46/3n7fE5sc1tfnNlj7+eqAxTUONRUMX1jdl5W2t6kqTOtahLVgIIsGUGl9tnJJ/OOnNm/3bq6NZUFKAgY7851ZVZFhVln05ILL1lXxqRIAAVVNofUVu0pulJQ4HnsYHN7b7QmUFAmaX5IiZW19crls6yt6sOc18gCBTnnLkoNaov0nbyko69h2lZbdwGgIMdij4TTc8JWxSS6TnDNSIgOZ2YAifK7pexwcHG3cQi2tZ0oCBZjMBIOd1oY5eQY6uJhE+woBBFUCuxydnZxd4yz9bCxcQhUhYSmFl/cgmXxK+KjnNxCxXVhAWqpr84qKSbKqqhtCOYDALPYc2hoS0J5AAAAAElFTkSuQmCC"}}),t._v(" 沪公网安备31010602005070号")])]):t._e(),e("span",[t._v("作者 "),e("a",{attrs:{href:"https://deoncn.github.io",target:"_blank"}},[t._v("@deoncn")])]),t.isShow?e("span",[t._v("邮箱 "),e("a",{attrs:{href:"mailto:1500975085@qq.com"}},[t._v("1500975085@qq.com")])]):t._e(),t.isShow?e("span",[t._v("监制 "),e("a",{attrs:{href:"#",target:"_blank"}},[t._v("@None")])]):t._e(),t.isShow?e("span",{staticClass:"friend-link"},[t._v("推荐 "),e("a",{attrs:{href:"https://chrome.zzzmh.cn",target:"_blank"}},[t._v("@极简插件")]),e("a",{attrs:{href:"https://tool.zzzmh.cn",target:"_blank"}},[t._v("@极简工具")])]):t._e()])],1)},m=[],h={data(){return{isShow:!1}}},g=h,f=s(1001),p=(0,f.Z)(g,u,m,!1,null,null,null),v=p.exports,b=s(6232),x=s(2118),Z=s(4324),_=s(9592),w=s(626),O=s(762),y=s(7953),I=function(){var t=this,e=t._self._c;return e(b.Z,{attrs:{dense:"",fixed:""}},[e(x.Z,[e(y.qW,[e("img",{attrs:{src:s(7941)}}),t._v("豚豚壁纸 ")]),e(O.Z,[e(w.Z,{attrs:{to:"/"}},[e(Z.Z,{attrs:{color:"blue"}},[t._v("chair")]),t._v(" 首页 ")],1),e(w.Z,{staticStyle:{display:"none"},attrs:{to:"/admin"}},[t._v(" 管理 ")]),e(w.Z,{staticStyle:{display:"none"},attrs:{to:"/idb"}},[t._v(" IDB ")]),e(w.Z,{attrs:{to:"/search"}},[e(Z.Z,{attrs:{small:"",color:"green"}},[t._v("search")]),t._v(" 搜索 ")],1),e(w.Z,{attrs:{to:"/favorite"}},[e(Z.Z,{attrs:{small:"",color:"red"}},[t._v("favorite_border")]),t._v("喜欢")],1),e(w.Z,{staticClass:"tabs-float-right",attrs:{to:"/settings"}},[e(Z.Z,{attrs:{color:"cyan",small:""}},[t._v("settings")]),t._v(" 设置 ")],1),e(w.Z,{attrs:{to:"/about"}},[e(Z.Z,{attrs:{color:"purple",small:""}},[t._v("info_outline")]),t._v(" 关于 ")],1)],1),e(_.Z,{attrs:{active:t.loading,indeterminate:t.loading,absolute:"",bottom:"",color:"deep-purple accent-4"}})],1)],1)},k=[],T={data:()=>({loading:!1}),watch:{loading(t){t&&setTimeout((()=>this.loading=!1),3e3)}}},C=T,E=(0,f.Z)(C,I,k,!1,null,null,null),S=E.exports,A={name:"App",components:{BzFooter:v,BzHeader:S},computed:{...(0,r.rn)("settings",{Defaultstate:"Defaultstate"})},created(){this.$vuetify.theme.dark=this.Defaultstate.theme.dark}},D=A,j=(0,f.Z)(D,n,l,!1,null,null,null),F=j.exports,z=s(8345),B=s(4562),N=s(5495),L=s(5372),P=s(1713),V=s(9193),J=function(){var t=this,e=t._self._c;return e(x.Z,[e("div",[e("div",{staticClass:"index-tool-bar",staticStyle:{display:"none"}},[e(P.Z,[e(c.Z,{attrs:{sm:"2",md:"2",lg:"2",xl:"2",xs:"2"}},[e(V.Z,{attrs:{items:t.items1,label:"排序",outlined:"",dense:""}})],1),e(c.Z,{attrs:{sm:"2",md:"2",lg:"2",xl:"2",xs:"2"}},[e(V.Z,{attrs:{items:t.items2,label:"分辨率",outlined:"",dense:""}})],1),e(c.Z,{attrs:{sm:"2",md:"2",lg:"2",xl:"2",xs:"2"}},[e(V.Z,{attrs:{items:t.items3,label:"比例",outlined:"",dense:""}})],1),e(c.Z,{attrs:{sm:"2",md:"2",lg:"2",xl:"2",xs:"2"}},[e(V.Z,{attrs:{items:t.items4,label:"分类",outlined:"",dense:""}})],1),e(c.Z,{attrs:{sm:"2",md:"2",lg:"2",xl:"2",xs:"2"}},[e(V.Z,{attrs:{items:t.items5,label:"细分",outlined:"",dense:""}})],1),e(c.Z,{attrs:{sm:"2",md:"2",lg:"2",xl:"2",xs:"2"}},[e(V.Z,{attrs:{items:t.items6,label:"颜色",outlined:"",dense:""}})],1)],1)],1),e("div",[t._l(t.imglists,(function(s){return e("div",{key:s.id,staticClass:"img-box"},[e("div",{on:{click:function(e){return t.canvasco()}}},[e(N.Z,{attrs:{src:s.src,"aspect-ratio":279.984/186.656},on:{click:function(e){t.updatesdetail(s),t.fullscreenpreview()}}})],1),e("span",{staticClass:"res-span"},[t._v(t._s(s.res))]),e("span",{staticClass:"down-span"},[e("a",{attrs:{href:s.src,target:"downloadFile"}},[t._v("保存")])]),e("span",{staticClass:"like-span",on:{click:function(e){return t.favorite_item(s)}}},[0==t.favorState(s)?e("button",{attrs:{type:"button"}},[e(Z.Z,{attrs:{color:"red"}},[t._v("favorite_border")])],1):t._e(),1==t.favorState(s)?e("button",{attrs:{type:"button"}},[e(Z.Z,{attrs:{color:"red"}},[t._v("favorite")])],1):t._e()])])})),t.isdtpageshow?e("div",{staticClass:"image-background"},[e("canvas"),e("span",{staticClass:"close-span"},[e(Z.Z,{attrs:{color:"white"},on:{click:t.closedetailpage}},[t._v("close")])],1),e("div",{staticClass:"image-resolution"},[e("span",[t._v(t._s(t.imgselect.res))])]),e("div",{staticClass:"image-tools-bar"},[e(B.Z,{staticClass:"tool",attrs:{title:"上一张",text:""},on:{click:t.backone}},[e(Z.Z,[t._v("arrow_back")])],1),e(B.Z,{directives:[{name:"show",rawName:"v-show",value:0==t.favorState(t.imgselect),expression:"favorState(imgselect) == false"}],staticClass:"tool",attrs:{title:"喜欢",text:""},on:{click:function(e){return t.favorite_item(t.imgselect)}}},[e(Z.Z,{attrs:{color:"red"}},[t._v("favorite_border")])],1),e(B.Z,{directives:[{name:"show",rawName:"v-show",value:1==t.favorState(t.imgselect),expression:"favorState(imgselect) == true"}],staticClass:"tool",attrs:{title:"喜欢",text:""},on:{click:function(e){return t.favorite_item(t.imgselect)}}},[e(Z.Z,{attrs:{color:"red"}},[t._v("favorite")])],1),e(B.Z,{staticClass:"tool",attrs:{href:t.imgselect.src,title:"下载",a:"",text:""}},[e(Z.Z,{attrs:{color:"green"}},[t._v("file_download")])],1),e(B.Z,{directives:[{name:"show",rawName:"v-show",value:t.isFull,expression:"isFull"}],staticClass:"tool",attrs:{title:"全屏",text:""},on:{click:t.toggleFullScreen}},[e(Z.Z,{attrs:{color:"blue"}},[t._v("fullscreen")])],1),e(B.Z,{directives:[{name:"show",rawName:"v-show",value:t.isF11,expression:"isF11"}],staticClass:"tool",attrs:{title:"结束全屏",text:""},on:{click:t.toggleFullScreen}},[e(Z.Z,{attrs:{color:"blue"}},[t._v("fullscreen_exit")])],1),e(B.Z,{staticClass:"tool",attrs:{title:"下一张",text:""},on:{click:t.nextone}},[e(Z.Z,[t._v("arrow_forward")])],1)],1)]):t._e()],2),e("div",{staticClass:"text-center pagination-bar"},[e(x.Z,[e("div",{staticClass:"vue_pagination"},[e(L.Z,{attrs:{length:t.length,"prev-icon":"arrow_left","next-icon":"arrow_right"},on:{input:function(e){t.$vuetify.goTo(0,"duration"),t.lol()}},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),e("hr"),e("p",[t._v("当前共 "+t._s(this.total)+" 张 / "+t._s(this.length)+" 页")])])],1)])])},H=[],q=s(4471),G={name:"MainPage",components:{},data:()=>({items:["Foo","Bar","Fizz","Buzz"],items1:["推荐","最热","最新","随机"],items2:["不限","1080P","2K","4K","8K"],items3:["不限","1:1","4:3","16:9","18:9","21:9","更大"],items4:["不限","Foo","Bar","Fizz","Buzz"],items5:["不限","Foo","Bar","Fizz","Buzz"],items6:["不限","#fsdfsdg","Bar","Fizz","Buzz"],imglists:JSON.parse(localStorage.getItem("imglists"))||[],favoritemo:{isfmo:!1},db:null,isFull:!0,isF11:!1,islikespan:!1,imgindex:0,imgselect:{},isdtpageshow:!1,thesize:{dx:0,dy:0,width:0,height:0},length:null,total:null,page:1}),computed:{...(0,r.rn)("favorites",{lovelistids:"lovelistids"}),...(0,r.rn)("settings",{Defaultstate:"Defaultstate"})},methods:{...(0,r.nv)("favorites",{favorite_item:"FAVORITE_IT"}),...(0,r.OI)("favorites",{FIRST_FO:"BUILD_IDB_FV",CONNECT:"CONNECT_IDB"}),initialize(){(0,q.Z)({method:"GET",url:`img/SourceController/getAllSource/${this.page}/${this.Defaultstate.size}`}).then((t=>{this.length=t.data.data.pages,this.total=t.data.data.total,this.imglists=t.data.data.records})).catch((t=>{console.log(t)}))},fullscreenpreview(){this.Defaultstate.fullscreen&&document.documentElement.requestFullscreen()},backone(){0<this.imgindex?(this.imgindex--,this.imgselect=this.imglists[this.imgindex],this.canvasco(),console.log(this.imgindex)):0==this.imgindex?console.log("已达到第一张，无法进行一个减"):console.log("其他错误！")},favorState(t){return!!this.lovelistids.includes(t.id)},closedetailpage(){this.exitfullscreen(),this.opendetailpage();const t=document.getElementsByTagName("html")[0].style;t.overflowY=""},toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),this.isFull=!0,this.isF11=!1):(document.documentElement.requestFullscreen(),this.isFull=!1,this.isF11=!0)},exitfullscreen(){document.fullscreenElement&&(console.log("全屏状态，退出全屏"),document.exitFullscreen(),this.isFull=!0,this.isF11=!1)},nextone(){this.imgindex<Number(this.Defaultstate.size)-1?(this.imgindex++,this.imgselect=this.imglists[this.imgindex],this.canvasco(),console.log(this.imgindex)):this.imgindex==Number(this.Defaultstate.size)-1?console.log("已达到最后一张，无法进行一个 + 😵"):console.log("其他错误！")},updatesdetail(t){const e=document.getElementsByTagName("html")[0].style;e.overflowY="hidden",this.imgselect=t,this.imgindex=this.imglists.indexOf(t),console.log(this.imgindex),this.opendetailpage()},opendetailpage(){this.isdtpageshow=!this.isdtpageshow},lol(){this.initialize()},canvasco(){const t=document.querySelector("canvas"),e=t.getContext("2d"),s=new Image;function o(){t.width=window.innerWidth,t.height=window.innerHeight;let e=0,o=0,i=s.naturalWidth,a=s.naturalHeight;return t.width/t.height<=i/a?(a=a/i*t.width,i=t.width,o=(t.height-a)/2):(i=i/a*t.height,a=t.height,e=(t.width-i)/2),{dx:e,dy:o,width:i,height:a}}s.src=this.imgselect.src,s.onload=function(){const t=o();e.drawImage(s,t.dx,t.dy,t.width,t.height)},window.onresize=function(){const t=o();e.drawImage(s,t.dx,t.dy,t.width,t.height)}},resolveAfter2Seconds(t){return new Promise((e=>{setTimeout((()=>{e(t),console.log(t),this.FIRST_FO()}),2e3)}))},async doit(){await this.resolveAfter2Seconds(100),this.CONNECT()}},watch:{lovelistids:{deep:!0,handler(t){localStorage.setItem("lovelistids",JSON.stringify(t))}}},beforeCreate(){},created(){this.doit(),this.initialize()},Mounted(){}},U=G,R=(0,f.Z)(U,J,H,!1,null,null,null),W=R.exports,X=s(9582),K=s(4886),Y=s(3863),M=s(9930),$=s(9223),Q=s(1625),tt=s(3687),et=s(1023),st=s(9780),ot=s(6313),it=function(){var t=this,e=t._self._c;return e(Y.Z,{staticClass:"elevation-1",attrs:{headers:t.headers,"show-select":"",items:t.desserts,"sort-by":"calories","single-select":t.singleSelect},scopedSlots:t._u([{key:"top",fn:function(){return[e(ot.Z,{attrs:{flat:""}},[e(y.qW,[t._v("数据库管理")]),e($.Z,{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e(tt.Z),e(M.Z,{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:o}){return[e(P.Z,{attrs:{justify:"end"}},[e(c.Z,{attrs:{cols:"12",sm:"6",md:"2"}},[e(B.Z,t._g(t._b({staticClass:"mb-2",attrs:{color:"primary"}},"v-btn",o,!1),s),[t._v(" 添加对象 ")])],1),e(c.Z,{attrs:{cols:"12",sm:"6",md:"2"}},[e(et.Z,{staticClass:"pa-3",attrs:{label:"单选化"},model:{value:t.singleSelect,callback:function(e){t.singleSelect=e},expression:"singleSelect"}})],1)],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(X.Z,[e(K.EB,[e("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),e(K.ZB,[e(x.Z,[e(P.Z,[e(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(st.Z,{attrs:{label:"分辨率"},model:{value:t.editedItem.res,callback:function(e){t.$set(t.editedItem,"res",e)},expression:"editedItem.res"}})],1),e(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(st.Z,{attrs:{label:"类型"},model:{value:t.editedItem.type,callback:function(e){t.$set(t.editedItem,"type",e)},expression:"editedItem.type"}})],1),e(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(st.Z,{attrs:{label:"图像描述"},model:{value:t.editedItem.description,callback:function(e){t.$set(t.editedItem,"description",e)},expression:"editedItem.description"}})],1),e(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(st.Z,{attrs:{label:"路径"},model:{value:t.editedItem.src,callback:function(e){t.$set(t.editedItem,"src",e)},expression:"editedItem.src"}}),t.lomtitle?e("div",[e(Q.Z,{attrs:{"show-size":"",counter:"",outlined:"",label:"FileUpload"},model:{value:t.fileInfo,callback:function(e){t.fileInfo=e},expression:"fileInfo"}}),e(B.Z,{attrs:{color:"primary"},on:{click:t.beforeUpload}},[t._v("上传")])],1):t._e(),e(N.Z,{attrs:{src:t.editedItem.src}})],1),e(c.Z,{attrs:{cols:"12",sm:"6",md:"4"}},[e(st.Z,{attrs:{label:"时间"},model:{value:t.editedItem.time,callback:function(e){t.$set(t.editedItem,"time",e)},expression:"editedItem.time"}})],1)],1)],1)],1),e(K.h7,[e(tt.Z),e(B.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" 取消 ")]),e(B.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" 保存 ")])],1)],1)],1),e(M.Z,{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e(X.Z,[e(K.EB,{staticClass:"text-h5"},[t._v("确定要删除吗？")]),e(K.h7,[e(tt.Z),e(B.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),e(B.Z,{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),e(tt.Z)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function({item:s}){return[e(Z.Z,{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(s)}}},[t._v(" mdi-pencil ")]),e(Z.Z,{attrs:{small:""},on:{click:function(e){return t.deleteItem(s)}}},[t._v(" mdi-delete ")])]}},{key:"no-data",fn:function(){return[e(B.Z,{attrs:{color:"primary"},on:{click:t.initialize}},[t._v(" Reset ")])]},proxy:!0}],null,!0)})},at=[],nt=s(7632),lt={data:()=>({dataObj:{policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:""},singleSelect:!0,dialog:!1,dialogDelete:!1,fileInfo:null,headers:[{text:"图像ID",align:"start",value:"id"},{text:"分辨率",value:"res",sortable:!1},{text:"类型",value:"type",sortable:!1},{text:"图像描述",value:"description",sortable:!1},{text:"路径",value:"src",sortable:!1},{text:"时间",value:"time",sortable:!1},{text:"Actions",value:"actions",sortable:!1}],desserts:[],deletelist:[],editedIndex:-1,editedItem:{res:"",type:"",description:"",src:"",time:null},defaultItem:{res:"",type:"",description:"",src:"",time:null}}),computed:{formTitle(){return-1===this.editedIndex?"New Item":"Edit Item"},lomtitle(){return"New Item"==this.formTitle},filexten(){return this.fileInfo.name.substring(this.fileInfo.name.lastIndexOf("."))},fileuuid(){return(0,nt.Z)().replaceAll("-","")}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()}},created(){this.initialize()},methods:{initialize(){(0,q.Z)({methods:"get",url:"img/SourceController/getAllSource/1/1000"}).then((t=>{this.desserts=t.data.data.records})).catch((t=>{console.log(t)}))},editItem(t){this.editedIndex=this.desserts.indexOf(t),console.log("编辑了"),console.log(this.editedIndex),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.desserts.indexOf(t),this.deletelist=[this.desserts[this.desserts.indexOf(t)].id],this.editedItem=Object.assign({},t),this.dialogDelete=!0},deleteItemConfirm(){(0,q.Z)({method:"DELETE",url:"img/SourceController/deleteSource",data:this.deletelist}).then((t=>{console.log(t),this.initialize(),this.closeDelete()})).catch((t=>{console.log(t)}))},close(){this.dialog=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},closeDelete(){this.dialogDelete=!1,this.$nextTick((()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1}))},testbtn(){console.log(this.fileuuid)},beforeUpload(){(0,q.Z)({method:"GET",url:"/oss/policy"}).then((t=>{this.dataObj.policy=t.data.data.policy,this.dataObj.signature=t.data.data.signature,this.dataObj.ossaccessKeyId=t.data.data.accessId,this.dataObj.key=t.data.data.dir+(0,nt.Z)().replaceAll("-","")+this.filexten,console.log(this.dataObj.key),this.dataObj.dir=t.data.data.dir,this.dataObj.host=t.data.data.host,console.log(this.dataObj),this.newuploadFile()})).catch((t=>{console.log(t)}))},newuploadFile(){let t=new FormData;t.append("key",this.dataObj.key),t.append("policy",this.dataObj.policy),t.append("OSSAccessKeyId",this.dataObj.ossaccessKeyId),t.append("success_action_status","200"),t.append("signature",this.dataObj.signature),t.append("file",this.fileInfo),(0,q.Z)({method:"POST",url:"https://deoncnone.oss-cn-chengdu.aliyuncs.com",data:t}).then((t=>{console.log(t),alert("上传成功"),this.editedItem.src="https://deoncnone.oss-cn-chengdu.aliyuncs.com/"+this.dataObj.key})).catch((t=>{console.log(t)}))},uploadFile(){let t=new FormData;console.log(this.fileInfo,"文件信息"),t.append("multipartFile",this.fileInfo),(0,q.Z)({method:"POST",url:"sms/system/headerImgUpload",data:t}).then((t=>{console.log(t.data.data),console.log("上传成功了"),this.editedItem.src="http://localhost:9001/"+t.data.data})).catch((t=>{console.log(t)}))},save(){this.editedIndex>-1?(console.log("是编辑项目"),(0,q.Z)({method:"POST",url:"img/SourceController/saveOrUpdateSource",data:this.editedItem}).then((t=>{console.log(t),this.initialize()})).catch((t=>{console.log(t)}))):((0,q.Z)({method:"POST",url:"img/SourceController/saveOrUpdateSource",data:this.editedItem}).then((t=>{console.log(t),this.initialize()})).catch((t=>{console.log(t)})),console.log("新增成功")),this.close()}}},rt=lt,ct=(0,f.Z)(rt,it,at,!1,null,null,null),dt=ct.exports;o.ZP.use(z.ZP);const ut=[{path:"/",component:W},{path:"/search",component:()=>s.e(263).then(s.bind(s,6263))},{path:"/favorite",component:()=>s.e(724).then(s.bind(s,4724))},{path:"/settings",component:()=>s.e(273).then(s.bind(s,273))},{path:"/about",component:()=>s.e(992).then(s.bind(s,1992))},{path:"/idb",component:()=>s.e(286).then(s.bind(s,7286))},{path:"/admin",component:dt}],mt=new z.ZP({routes:ut});var ht=mt,gt=s(9669),ft=s.n(gt),pt={namespaced:!0,state:{Defaultstate:JSON.parse(localStorage.getItem("Defaultstate"))||{fullscreen:!1,detail:!1,animation:!1,hdmode:!1,compact:!1,size:"24",theme:{dark:!1}}},actions:{},mutations:{HELLO:function(){console.log(" settingsOptions 中的 mutations 中 HELLO 被调了")},RESET_STATE:function(t,e){console.log("RESET_STATE : ",e),t.Defaultstate={fullscreen:!1,detail:!1,animation:!1,hdmode:!1,compact:!1,size:"24",theme:{dark:!1}}}},getters:{}},vt={namespaced:!0,state:{indexedDB:null,lovelistids:JSON.parse(localStorage.getItem("lovelistids"))||[]},getters:{favst:function(t,e){console.log(e)}},actions:{FAVORITE_IT(t,e){if(t.state.lovelistids.includes(e.id)){const s=t.state.lovelistids.indexOf(e.id);t.state.lovelistids.splice(s,1),t.commit("DELETE_OBJECT",e)}else t.state.lovelistids.push(e.id),t.commit("ADD_OBJECT",e)},GET_OBJECTS(t,e){t.commit("GET_OBJECTS",t.rootState)},TESTTT(t,e){t.commit("TEST"),console.log("value",e)}},mutations:{BUILD_IDB_FV(t,e){const s="ttbz_wallpaper",o=indexedDB.open(s);o.onerror=t=>{console.error(`Database error: ${t.target.errorCode}`)},o.onupgradeneeded=t=>{const e=t.target.result,s=e.createObjectStore("favorites",{keyPath:"id"});s.createIndex("id","id",{unique:!0}),s.transaction.oncomplete=t=>{console.log("收藏列表初始化完成");e.transaction("favorites","readwrite").objectStore("favorites")}}},TEST(t,e){console.log("你好啊")},GET_OBJECTS(t,e){t.fovlist=[];const s=t.indexedDB.transaction("favorites").objectStore("favorites");s.count().onsuccess=s=>{t.total=s.target.result,t.total/e.settings.Defaultstate.size<=1?t.length=1:(console.log("222"),t.length=parseInt(t.total/e.settings.Defaultstate.size)+1),console.log(t.total)};let o=null;s.openCursor().onsuccess=s=>{const i=s.target.result;if(i){if(o===e.settings.Defaultstate.size-1)return t.fovlist.push(i.value),console.log("读取数据成功：",t.fovlist),console.log("总条目",t.total),null;null===o&&1!==t.page?(console.log("读取跳过：",(t.page-1)*e.settings.Defaultstate.size),o=0,i.advance((t.page-1)*e.settings.Defaultstate.size)):(o++,t.fovlist.push(i.value),i.continue())}else console.log("读取数据成功：",t.fovlist),console.log("总条目",t.total)}},CONNECT_IDB(t,e){indexedDB.open("ttbz_wallpaper").onsuccess=e=>{t.indexedDB=e.target.result,console.log("数据库连接成功！",t.indexedDB)},indexedDB.open("ttbz_wallpaper").onerror=t=>{console.log("发生错误！",t)}},ADD_OBJECT(t,e){const s=t.indexedDB.transaction(["favorites"],"readwrite");s.oncomplete=t=>{console.log("ADD DONE!",t)},s.onerror=t=>{console.log("error!",t)},[e].forEach((t=>{s.objectStore("favorites").add(t).onsuccess=t=>{}}))},DELETE_OBJECT(t,e){const s=t.indexedDB.transaction(["favorites"],"readwrite").objectStore("favorites").delete(Number(e.id));s.onsuccess=t=>{console.log("GONE!",t)},s.onerror=t=>{console.error(`Database error: ${t.target.errorCode}`)}}}},bt={namespaced:!0,state:{},actions:{favouriteitem(t,e){if(this.lovelistids.includes(e.id)){console.log("已喜欢！");const t=this.lovelistids.indexOf(e.id);this.lovelistids.splice(t,1),console.log(this.lovelist[t].id),this.lovelist.splice(t,1),this.deletObject(e)}else this.lovelist.push(e),this.lovelistids.push(e.id),this.addObject(e);console.log(this.lovelist)},overit(t){t.commit("OVERIT"),t.commit("OVERHELLO")}},mutations:{JIA(){},OVERIT(){console.log("OVERHELLO1")},OVERHELLO(){console.log("OVERHELLO2")},ADDOIDB(t){const e=[t],s=this.db,o=s.transaction(["favorites"],"readwrite");o.oncomplete=t=>{console.log("All done!",t)},o.onerror=t=>{console.log("error!",t)};const i=o.objectStore("favorites");e.forEach((t=>{const e=i.add(t);e.onsuccess=t=>{console.log(t)}}))},DELOIDB(t){console.log(t.id);const e=Number(t.id),s=this.db,o=s.transaction(["favorites"],"readwrite").objectStore("favorites").delete(e);o.onerror=t=>{console.log("错误控制台输出",t),console.error(`Database error: ${t.target.errorCode}`)},o.onsuccess=t=>{console.log("It's gone!",t)}}},getters:{}},xt={namespaced:!0,state:{},actions:{},mutations:{HELLO:function(t,e){console.log(" settingsOptions 中的 mutations 中 HELLO 被调了")}},getters:{}};o.ZP.use(r.ZP);const Zt={},_t={hello:function(t,e){console.log(" actions 中的 hello 被调用了!"),t.commit("HELLO",e)}},wt={},Ot={};var yt=new r.ZP.Store({state:Zt,actions:_t,mutations:wt,getters:Ot,modules:{settings:pt,favorites:vt,viewer:bt,generals:xt}}),It=s(1705);o.ZP.use(It.Z);var kt=new It.Z({icons:{iconfont:"mdi"}});o.ZP.config.productionTip=!0,o.ZP.prototype.$axios=ft(),new o.ZP({render:t=>t(F),vuetify:kt,router:ht,store:yt}).$mount("#app")},4471:function(t,e,s){var o=s(9669),i=s.n(o);const a="https",n="noxus.dynv6.net:9001",l=i().create({baseURL:a+"://"+n,timeout:6e5});e["Z"]=l},7941:function(t,e,s){t.exports=s.p+"img/log.8d1d4c8a.png"}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,a){if(!o){var n=1/0;for(d=0;d<t.length;d++){o=t[d][0],i=t[d][1],a=t[d][2];for(var l=!0,r=0;r<o.length;r++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[r])}))?o.splice(r--,1):(l=!1,a<n&&(n=a));if(l){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,o){return s.f[o](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{263:"9aeef029",273:"e2617b36",286:"6ef27cd4",724:"0ff1109c",992:"010462ee"}[t]+".js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="app:";s.l=function(o,i,a,n){if(t[o])t[o].push(i);else{var l,r;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==o||u.getAttribute("data-webpack")==e+a){l=u;break}}l||(r=!0,l=document.createElement("script"),l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",e+a),l.src=o),t[o]=[i];var m=function(e,s){l.onerror=l.onload=null,clearTimeout(h);var i=t[o];if(delete t[o],l.parentNode&&l.parentNode.removeChild(l),i&&i.forEach((function(t){return t(s)})),e)return e(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=m.bind(null,l.onerror),l.onload=m.bind(null,l.onload),r&&document.head.appendChild(l)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/Vue-TunWallpaper/"}(),function(){var t={143:0};s.f.j=function(e,o){var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)o.push(i[2]);else{var a=new Promise((function(s,o){i=t[e]=[s,o]}));o.push(i[2]=a);var n=s.p+s.u(e),l=new Error,r=function(o){if(s.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var a=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",l.name="ChunkLoadError",l.type=a,l.request=n,i[1](l)}};s.l(n,r,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],l=o[1],r=o[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(r)var d=r(s)}for(e&&e(o);c<n.length;c++)a=n[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(d)},o=self["webpackChunkapp"]=self["webpackChunkapp"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(8449)}));o=s.O(o)})();
//# sourceMappingURL=app.230191f3.js.map