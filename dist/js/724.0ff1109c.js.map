{"version":3,"file":"js/724.0ff1109c.js","mappings":"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","sources":["webpack://app/./src/views/FavoritePage.vue","webpack://app/src/views/FavoritePage.vue","webpack://app/./src/views/FavoritePage.vue?6b80","webpack://app/./src/views/FavoritePage.vue?c7af"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.lovelovelist.length == 0 ? true : false),expression:\"lovelovelist.length == 0 ? true : false\"}]},[_vm._v(\" 还没有喜欢的图片，点击图片下方红色爱心 \"),_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"favorite_outline\")]),_vm._v(\"喜欢收藏图片。 \")],1),_c('div',[_vm._l((_vm.lovelovelist),function(item){return _c('div',{key:item.id,staticClass:\"img-box\"},[_c('div',{on:{\"click\":_vm.canvasco}},[_c('v-img',{attrs:{\"src\":item.src,\"aspect-ratio\":279.984 / 186.656},on:{\"click\":function($event){return _vm.updatesdetail(item)}}})],1),_c('span',{staticClass:\"res-span\"},[_vm._v(_vm._s(item.res))]),_c('span',{staticClass:\"down-span\"},[_c('a',{attrs:{\"href\":item.src}},[_vm._v(\"保存\")])]),_c('span',{staticClass:\"like-span\",on:{\"click\":function($event){return _vm.favorite_item(item)}}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.favorState(item) == false),expression:\"favorState(item) == false\"}],attrs:{\"icon\":\"\",\"color\":\"red\"}},[_c('v-icon',[_vm._v(\"favorite_border\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.favorState(item) == true),expression:\"favorState(item) == true\"}],attrs:{\"icon\":\"\",\"color\":\"red\"}},[_c('v-icon',[_vm._v(\"favorite\")])],1)],1)])}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isdtpageshow),expression:\"isdtpageshow\"}],staticClass:\"image-background\"},[_c('canvas'),_c('span',{staticClass:\"close-span\"},[_c('v-icon',{attrs:{\"color\":\"white\"},on:{\"click\":_vm.closedetailpage}},[_vm._v(\"close\")])],1),_c('div',{staticClass:\"image-resolution\"},[_c('span',[_vm._v(_vm._s(_vm.imgselect.res))])]),_c('div',{staticClass:\"image-tools-bar\"},[_c('v-btn',{staticClass:\"tool\",attrs:{\"title\":\"上一张\",\"text\":\"\"},on:{\"click\":_vm.backone}},[_c('v-icon',[_vm._v(\"arrow_back\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.favorState(_vm.imgselect) == false),expression:\"favorState(imgselect) == false\"}],staticClass:\"tool\",attrs:{\"title\":\"喜欢\",\"text\":\"\"},on:{\"click\":function($event){return _vm.favorite_item(_vm.imgselect)}}},[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"favorite_border\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.favorState(_vm.imgselect) == true),expression:\"favorState(imgselect) == true\"}],staticClass:\"tool\",attrs:{\"title\":\"喜欢\",\"text\":\"\"},on:{\"click\":function($event){return _vm.favorite_item(_vm.imgselect)}}},[_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\"favorite\")])],1),_c('v-btn',{staticClass:\"tool\",attrs:{\"href\":_vm.imgselect.src,\"title\":\"下载\",\"a\":\"\",\"text\":\"\"}},[_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\"file_download\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isFull),expression:\"isFull\"}],staticClass:\"tool\",attrs:{\"title\":\"全屏\",\"text\":\"\"},on:{\"click\":_vm.toggleFullScreen}},[_c('v-icon',{attrs:{\"color\":\"blue\"}},[_vm._v(\"fullscreen\")])],1),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isFull),expression:\"!isFull\"}],staticClass:\"tool\",attrs:{\"title\":\"结束全屏\",\"text\":\"\"},on:{\"click\":_vm.toggleFullScreen}},[_c('v-icon',{attrs:{\"color\":\"blue\"}},[_vm._v(\"fullscreen_exit\")])],1),_c('v-btn',{staticClass:\"tool\",attrs:{\"title\":\"下一张\",\"text\":\"\"},on:{\"click\":_vm.nextone}},[_c('v-icon',[_vm._v(\"arrow_forward\")])],1)],1)])],2),_c('div',{staticClass:\"text-center pagination-bar\"},[_c('v-container',[_c('div',{staticClass:\"vue_pagination\"},[_c('v-pagination',{attrs:{\"length\":_vm.length,\"prev-icon\":\"arrow_left\",\"next-icon\":\"arrow_right\"},on:{\"input\":function($event){_vm.$vuetify.goTo(0, 'duration'), _vm.connectStore()}},model:{value:(_vm.page),callback:function ($$v) {_vm.page=$$v},expression:\"page\"}}),_c('hr'),_c('v-btn',[_vm._v(\"当前共 \"+_vm._s(this.total)+\" 张 / \"+_vm._s(this.length)+\" 页 Page = \"+_vm._s(this.page))])],1)])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container>\r\n\r\n\r\n\r\n    <div v-show=\"lovelovelist.length == 0 ? true : false\">\r\n      还没有喜欢的图片，点击图片下方红色爱心\r\n      <v-icon color=\"red\">favorite_outline</v-icon>喜欢收藏图片。\r\n    </div>\r\n\r\n    <div>\r\n      <div class=\"img-box\" v-for=\"item in lovelovelist\" :key=\"item.id\">\r\n\r\n        <div @click=\"canvasco\">\r\n          <v-img @click=\"updatesdetail(item)\" :src=\"item.src\" :aspect-ratio=\"279.984 / 186.656\" />\r\n        </div>\r\n\r\n        <span class=\"res-span\">{{ item.res }}</span>\r\n\r\n        <span class=\"down-span\">\r\n          <a :href=\"item.src\">保存</a>\r\n        </span>\r\n\r\n        <span @click=\"favorite_item(item)\" class=\"like-span\">\r\n          <v-btn v-show=\"favorState(item) == false\" icon color=\"red\">\r\n            <v-icon>favorite_border</v-icon>\r\n          </v-btn>\r\n          <v-btn v-show=\"favorState(item) == true\" icon color=\"red\">\r\n            <v-icon>favorite</v-icon>\r\n          </v-btn>\r\n        </span>\r\n      </div>\r\n\r\n      <div class=\"image-background\" v-show=\"isdtpageshow\">\r\n        <!-- 图像画布 -->\r\n        <canvas></canvas>\r\n\r\n        <!-- 画布 关闭按钮-->\r\n        <span class=\"close-span\">\r\n          <v-icon color=\"white\" @click=\"closedetailpage\">close</v-icon>\r\n        </span>\r\n\r\n        <!-- 图像分辨率 -->\r\n        <div class=\"image-resolution\">\r\n          <span>{{ imgselect.res }}</span>\r\n        </div>\r\n\r\n        <!-- 图像细节菜单功能 -->\r\n        <div class=\"image-tools-bar\">\r\n          <v-btn @click=\"backone\" title=\"上一张\" class=\"tool\" text>\r\n            <v-icon>arrow_back</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn @click=\"favorite_item(imgselect)\" v-show=\"favorState(imgselect) == false\" title=\"喜欢\" class=\"tool\" text>\r\n            <v-icon color=\"red\">favorite_border</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn @click=\"favorite_item(imgselect)\" v-show=\"favorState(imgselect) == true\" title=\"喜欢\" class=\"tool\" text>\r\n            <v-icon color=\"red\">favorite</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn :href=\"imgselect.src\" title=\"下载\" class=\"tool\" a text>\r\n            <v-icon color=\"green\">file_download</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn @click=\"toggleFullScreen\" v-show=\"isFull\" title=\"全屏\" class=\"tool\" text>\r\n            <v-icon color=\"blue\">fullscreen</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn @click=\"toggleFullScreen\" v-show=\"!isFull\" title=\"结束全屏\" class=\"tool\" text>\r\n            <v-icon color=\"blue\">fullscreen_exit</v-icon>\r\n          </v-btn>\r\n\r\n          <v-btn @click=\"nextone\" title=\"下一张\" class=\"tool\" text>\r\n            <v-icon>arrow_forward</v-icon>\r\n          </v-btn>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"text-center pagination-bar\">\r\n      <v-container>\r\n        <div class=\"vue_pagination\">\r\n          <v-pagination v-model=\"page\" :length=\"length\" @input=\"$vuetify.goTo(0, 'duration'), connectStore()\"\r\n            prev-icon=\"arrow_left\" next-icon=\"arrow_right\"></v-pagination>\r\n          <hr />\r\n\r\n          <v-btn>当前共 {{ this.total }} 张 / {{ this.length }} 页 Page = {{ this.page }}</v-btn>\r\n        </div>\r\n      </v-container>\r\n    </div>\r\n\r\n  </v-container>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapState, mapMutations, mapActions, mapGetters } from \"vuex\";\r\n\r\n\r\nexport default {\r\n  name: \"MyFavorites\",\r\n\r\n  data: () => ({\r\n\r\n    //basement\r\n    lovelovelist: [],\r\n\r\n    // statement\r\n    isdtpageshow: false,\r\n    isFull: true,\r\n    imgindex: 0,\r\n    imgselect: {},\r\n    thesize: { dx: 0, dy: 0, width: 0, height: 0 },\r\n\r\n    // page,something\r\n    length: null,\r\n    total: null,\r\n    page: 1\r\n\r\n  }),\r\n\r\n  computed: {\r\n\r\n    ...mapState(\"settings\", { Defaultstate: \"Defaultstate\" }),\r\n\r\n    ...mapState(\"favorites\", { lovelistids: \"lovelistids\" }),\r\n\r\n  },\r\n\r\n  methods: {\r\n\r\n    ...mapActions('favorites', {\r\n      favorite_item: \"FAVORITE_IT\",\r\n    }),\r\n\r\n    ...mapMutations(\"favorites\", {\r\n      CONNECT: \"CONNECT_IDB\",\r\n    }),\r\n\r\n    ...mapMutations(\"generals\", {\r\n\r\n      testapi: \"HELLO\"\r\n\r\n    }),\r\n\r\n    resolveAfter2Seconds(x) {\r\n      return new Promise(resolve => {\r\n        setTimeout(() => {\r\n\r\n          resolve(x);\r\n          console.log(x);\r\n\r\n        }, 2000);\r\n\r\n      });\r\n    },\r\n\r\n    async fff1() {\r\n      // 第一步\r\n      let x = await this.resolveAfter2Seconds(10);\r\n      console.log(\"HELLO\");\r\n    },\r\n\r\n    // Fontend Context\r\n    favorState(item) {\r\n\r\n      if (this.lovelistids.includes(item.id)) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n\r\n    },\r\n\r\n    /**\r\n     * 画布canvas设置\r\n     * 绘制,传入thesize，要重新绘制的参数\r\n     */\r\n    canvasco() {\r\n      const canvas = document.querySelector(\"canvas\");\r\n      const ctx = canvas.getContext(\"2d\");\r\n      const thing = new Image();\r\n\r\n      // 把选择的对象图像路径传入 新建的对象thing\r\n      thing.src = this.imgselect.src;\r\n\r\n      // 挂载图像对象 thing\r\n      thing.onload = function () {\r\n        const size = resize();\r\n        // console.log(\"thing\", size.dx, size.dy, size.width, size.height)\r\n        ctx.drawImage(thing, size.dx, size.dy, size.width, size.height);\r\n      };\r\n\r\n      window.onresize = function () {\r\n        // console.log(\"重新定义大小\")\r\n        const size = resize();\r\n        ctx.drawImage(thing, size.dx, size.dy, size.width, size.height);\r\n      };\r\n\r\n      function resize() {\r\n        canvas.width = window.innerWidth;\r\n        canvas.height = window.innerHeight;\r\n\r\n        // console.log(\"window\", canvas.width, canvas.height)\r\n        let dx = 0;\r\n        let dy = 0;\r\n        let width = thing.naturalWidth;\r\n        let height = thing.naturalHeight;\r\n\r\n        // console.log(\"thesize\", width, height)\r\n\r\n        if (canvas.width / canvas.height <= width / height) {\r\n          height = (height / width) * canvas.width;\r\n          width = canvas.width;\r\n          dy = (canvas.height - height) / 2;\r\n        } else {\r\n          width = (width / height) * canvas.height;\r\n          height = canvas.height;\r\n          dx = (canvas.width - width) / 2;\r\n        }\r\n\r\n        // console.log(\"resize\", dx, dy, height, width)\r\n\r\n        return {\r\n          dx: dx,\r\n          dy: dy,\r\n          width: width,\r\n          height: height\r\n        };\r\n      }\r\n    },\r\n\r\n    // 关闭按钮\r\n    closedetailpage() {\r\n\r\n      this.exitfullscreen();\r\n      // this.opendetailpage();\r\n      this.isdtpageshow = false\r\n\r\n      // 调整 html overflow 属性\r\n      const htmlStyle = document.getElementsByTagName(\"html\")[0].style;\r\n      htmlStyle.overflowY = \"\";\r\n    },\r\n\r\n    // 切换全屏功能\r\n    toggleFullScreen() {\r\n      if (!document.fullscreenElement) {\r\n        // 全屏功能👇,进行一个窗口全屏, 菜单栏状态变换\r\n        document.documentElement.requestFullscreen();\r\n\r\n        this.isFull = false;\r\n      } else {\r\n        // 退出全屏功能👇，进行一个窗口退出全屏\r\n        if (document.exitFullscreen) {\r\n          document.exitFullscreen();\r\n\r\n          this.isFull = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    // 上一张\r\n    backone() {\r\n\r\n      if (0 < this.imgindex) {\r\n        this.imgindex--;\r\n        this.imgselect = this.lovelovelist[this.imgindex];\r\n        this.canvasco();\r\n        console.log(this.imgindex);\r\n      } else if (0 == this.imgindex) {\r\n        console.log(\"已达到第一张，无法进行一个减\");\r\n      } else {\r\n        console.log(\"其他错误！\");\r\n      }\r\n\r\n    },\r\n\r\n    // 下一张\r\n    nextone() {\r\n      if (this.imgindex < Number(this.lovelovelist.length) - 1) {\r\n        this.imgindex++;\r\n        this.imgselect = this.lovelovelist[this.imgindex];\r\n        this.canvasco();\r\n\r\n      } else if (this.imgindex == Number(this.lovelovelist.length) - 1) {\r\n        console.log(\"已达到最后一张，无法进行一个 + 😵\");\r\n      } else {\r\n        console.log(\"其他错误！\");\r\n      }\r\n    },\r\n\r\n    updatesdetail(item) {\r\n      const htmlStyle = document.getElementsByTagName(\"html\")[0].style;\r\n      htmlStyle.overflowY = \"hidden\";\r\n\r\n      this.imgselect = item;\r\n\r\n      this.imgindex = this.lovelovelist.indexOf(item);\r\n      // console.log(this.imgindex);\r\n      // 更新页面状态\r\n      this.opendetailpage();\r\n    },\r\n\r\n    opendetailpage() {\r\n      this.isdtpageshow = !this.isdtpageshow;\r\n    },\r\n\r\n    // 退出全屏\r\n    exitfullscreen() {\r\n      if (document.fullscreenElement) {\r\n        console.log(\"全屏状态，退出全屏\");\r\n        document.exitFullscreen();\r\n\r\n        this.isFull = true;\r\n      }\r\n    },\r\n\r\n    // Special + 连接仓库 + 数据获取\r\n    connectStore() {\r\n\r\n      this.lovelovelist = [];\r\n\r\n      const request = indexedDB.open(\"ttbz_wallpaper\");\r\n\r\n      request.onerror = event => { console.log(\"发生错误！\", event); };\r\n\r\n      request.onsuccess = event => {\r\n        const db = event.target.result;\r\n        this.db = db;\r\n\r\n        const objectStore = db.transaction(\"favorites\").objectStore(\"favorites\");\r\n\r\n        objectStore.count().onsuccess = event => {\r\n          this.total = event.target.result;\r\n\r\n          if (this.total / this.Defaultstate.size <= 1) {\r\n            this.length = 1;\r\n          } else {\r\n\r\n            this.length = parseInt(this.total / this.Defaultstate.size) + 1;\r\n          }\r\n        };\r\n\r\n        let index = null;\r\n        objectStore.openCursor().onsuccess = event => {\r\n          const cursor = event.target.result;\r\n\r\n          if (cursor) {\r\n            if (index === this.Defaultstate.size - 1) {\r\n              this.lovelovelist.push(cursor.value);\r\n\r\n              // console.log(\"读取数据成功：\", this.lovelovelist);\r\n              // console.log(\"总条目\", this.total);\r\n\r\n              return null;\r\n            } else if (index === null && this.page !== 1) {\r\n              console.log(\r\n                \"读取跳过：\",\r\n                (this.page - 1) * this.Defaultstate.size\r\n              );\r\n              index = 0;\r\n              cursor.advance((this.page - 1) * this.Defaultstate.size);\r\n            } else {\r\n              index++;\r\n              this.lovelovelist.push(cursor.value);\r\n              cursor.continue();\r\n            }\r\n          } else {\r\n            // console.log(\"读取数据成功：\", this.lovelovelist);\r\n            // console.log(\"总条目\", this.total);\r\n          }\r\n\r\n\r\n\r\n        };\r\n      }\r\n\r\n    },\r\n\r\n\r\n  },\r\n\r\n  watch: {\r\n\r\n    lovelistids: {\r\n      deep: true,\r\n      handler(value) {\r\n        localStorage.setItem(\"lovelistids\", JSON.stringify(value));\r\n      }\r\n    }\r\n\r\n  },\r\n\r\n\r\n  created() {\r\n    this.fff1();\r\n\r\n    // WORKED\r\n    this.CONNECT();\r\n    this.connectStore();\r\n  },\r\n  beforemounted() {\r\n\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n\r\n\r\n\r\n};\r\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FavoritePage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FavoritePage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FavoritePage.vue?vue&type=template&id=2a8c4fc8&\"\nimport script from \"./FavoritePage.vue?vue&type=script&lang=js&\"\nexport * from \"./FavoritePage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["rawName","value","_vm","lovelovelist","attrs","key","item","staticClass","canvasco","res","_c","src","_v","on","favorite_item","directives","name","expression","favorState","length","$vuetify","callback","page","$$v","staticRenderFns","data","isdtpageshow","isFull","imgindex","imgselect","thesize","dx","dy","width","height","total","computed","Defaultstate","lovelistids","methods","CONNECT","testapi","resolveAfter2Seconds","setTimeout","resolve","console","canvas","thing","ctx","window","closedetailpage","htmlStyle","toggleFullScreen","document","backone","nextone","updatesdetail","opendetailpage","exitfullscreen","connectStore","request","objectStore","index","cursor","watch","deep","handler","localStorage","created","beforemounted","mounted","component","render"],"sourceRoot":""}